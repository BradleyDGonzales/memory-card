{"ast":null,"code":"import _objectSpread from\"/home/bradley/repos/memory-card/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/bradley/repos/memory-card/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{render}from'@testing-library/react';import{useEffect,useState}from'react';import bulkImages from'./bulkImages';import fail from'../sound/fail.ogg';import Header from'./Header';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialLists=[{imgName:'ann',clicked:false},{imgName:'arisu',clicked:false},{imgName:'chishiya',clicked:false},{imgName:'chota',clicked:false},{imgName:'karube',clicked:false},{imgName:'kuina',clicked:false},{imgName:'kuzuryu',clicked:false},{imgName:'kyuma',clicked:false},{imgName:'lastboss',clicked:false},{imgName:'niragi',clicked:false},{imgName:'tatta',clicked:false},{imgName:'usagi',clicked:false}];var Game=function Game(){var _useState=useState(initialLists),_useState2=_slicedToArray(_useState,2),click=_useState2[0],setClick=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),score=_useState4[0],setScore=_useState4[1];var _useState5=useState(score),_useState6=_slicedToArray(_useState5,2),bestScore=_useState6[0],setBestScore=_useState6[1];function shuffle(array){var currentIndex=array.length,randomIndex;// While there remain elements to shuffle.\nwhile(currentIndex!==0){// Pick a remaining element.\nrandomIndex=Math.floor(Math.random()*currentIndex);currentIndex--;// And swap it with the current element.\nvar _ref=[array[randomIndex],array[currentIndex]];array[currentIndex]=_ref[0];array[randomIndex]=_ref[1];}return array;}useEffect(function(){shuffle(bulkImages);});function checkWin(){var count=0;click.map(function(img){if(img.clicked===true){count++;if(count===11){return alert('won');}}});console.log('u win');}function handleImgClick(e){var audio=new Audio(fail);audio.preload=\"auto\";audio.volume=0.2;var imgSrc=e.target.src;var currentImgName=imgSrc.substring(imgSrc.lastIndexOf('/')+1,imgSrc.indexOf('.'));var updatedImg=click.map(function(img){if(img.imgName===currentImgName){if(img.clicked===true){audio.play();setScore(score-score);return img;}else{setScore(score+1);if(score>=bestScore){setBestScore(score+1);}return _objectSpread(_objectSpread({},img),{},{clicked:true});}}else{return img;}});setClick(updatedImg);checkWin();}console.log(click);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{bestScore:bestScore,score:score}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:bulkImages.map(function(img,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(e){return handleImgClick(e);},id:'img'+index,src:img.img,alt:img,className:\"bulkImage\"},img),/*#__PURE__*/_jsx(\"span\",{className:\"cardName\",children:img.imgCardName})]},index);})})]});};export default Game;","map":{"version":3,"names":["render","useEffect","useState","bulkImages","fail","Header","initialLists","imgName","clicked","Game","click","setClick","score","setScore","bestScore","setBestScore","shuffle","array","currentIndex","length","randomIndex","Math","floor","random","checkWin","count","map","img","alert","console","log","handleImgClick","e","audio","Audio","preload","volume","imgSrc","target","src","currentImgName","substring","lastIndexOf","indexOf","updatedImg","play","index","imgCardName"],"sources":["/home/bradley/repos/memory-card/src/components/Game.js"],"sourcesContent":["import { render } from '@testing-library/react';\nimport { useEffect, useState } from 'react';\nimport bulkImages from './bulkImages';\nimport fail from '../sound/fail.ogg'\nimport Header from './Header';\n\n\nlet initialLists = [\n    { imgName: 'ann', clicked: false },\n    { imgName: 'arisu', clicked: false },\n    { imgName: 'chishiya', clicked: false },\n    { imgName: 'chota', clicked: false },\n    { imgName: 'karube', clicked: false },\n    { imgName: 'kuina', clicked: false },\n    { imgName: 'kuzuryu', clicked: false },\n    { imgName: 'kyuma', clicked: false },\n    { imgName: 'lastboss', clicked: false },\n    { imgName: 'niragi', clicked: false },\n    { imgName: 'tatta', clicked: false },\n    { imgName: 'usagi', clicked: false },\n]\nconst Game = () => {\n    const [click, setClick] = useState(initialLists)\n    const [score, setScore] = useState(0);\n    const [bestScore, setBestScore] = useState(score);\n\n    function shuffle(array) {\n        let currentIndex = array.length, randomIndex;\n\n        // While there remain elements to shuffle.\n        while (currentIndex !== 0) {\n\n            // Pick a remaining element.\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex--;\n\n            // And swap it with the current element.\n            [array[currentIndex], array[randomIndex]] = [\n                array[randomIndex], array[currentIndex]];\n        }\n\n        return array;\n    }\n\n    useEffect(() => {\n        shuffle(bulkImages);\n    })\n    function checkWin() {\n        let count = 0;\n        click.map((img) => {\n            if (img.clicked === true) {\n                count++;\n                if (count === 11) {\n                    return alert('won');\n                }\n            }\n        })\n        console.log('u win')\n    }\n    function handleImgClick(e) {\n        const audio = new Audio(fail);\n        audio.preload = \"auto\";\n        audio.volume = 0.2;\n        const imgSrc = e.target.src;\n        const currentImgName = imgSrc.substring(imgSrc.lastIndexOf('/') + 1, imgSrc.indexOf('.'))\n        const updatedImg = click.map((img) => {\n            if (img.imgName === currentImgName) {\n                if (img.clicked === true) {\n                    audio.play();\n                    setScore(score - score)\n                    return img;\n                }\n                else {\n                    setScore(score + 1);\n                    if (score >= bestScore) {\n                        setBestScore(score + 1);\n                    }\n                    return {  \n                        ...img,\n                        clicked: true,\n                    }\n                }\n            }\n            else {\n                return img;\n            }\n        })\n        setClick(updatedImg)\n        checkWin()\n    }\n    console.log(click);\n    return (\n        <>\n            <Header bestScore={bestScore} score={score} />\n            <div className=\"main\">\n\n                {(bulkImages.map((img, index) => (\n                    <div key={index} className='card'>\n                        <img onClick={(e) => handleImgClick(e)} id={'img' + index} key={img} src={img.img} alt={img} className=\"bulkImage\" />\n                        <span className='cardName'>{img.imgCardName}</span>\n                    </div>\n                )))}\n            </div>\n        </>\n    )\n}\n\nexport default Game;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}